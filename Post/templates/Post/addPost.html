{% extends 'shared/base.html' %}
{% load static %}
{% load poll_extras %}
{% block title %}
    افزودن نوشته جدید | ایزگیم
{% endblock %}
{% block header_reference %}
<link rel="stylesheet" type="text/css" href="{% static 'admin_panel/assets/css/forms/theme-checkbox-radio.css' %}">
<!--<link href="{% static 'admin_panel/plugins/flatpickr/flatpickr.css' %}" rel="stylesheet" type="text/css">-->
<link href="{% static '/majidh1/jalalidatepicker/dist/jalalidatepicker.min.css' %}" rel="stylesheet" type="text/css">
{% endblock %}




    {% block content %}

<form action="{% url 'post_add_admin' %}" method="post" enctype="multipart/form-data"  class="row layout-top-spacing mx-4 flex align-items-start ">
{% csrf_token    %}

        <div class="col-lg-8 mx-auto mt-3 ">
        <div class="row">
                 <div class="  col-lg-12 ">
                <div class="widget-header">
                    <div class="row">
                        <div id="flFormsGrid" class="col-lg-12 layout-spacing">
                            <div class="row"></div>
                            <div class="box-shadow">
                                <div class="widget-header">
                                    <div class="row">
                                        <div class="col-xl-12 col-md-12 col-sm-12 col-12  " >

                                            <div class="form-group mt-3 bg-white p-4 mb-0" >
                                                <h5 class="mb-3">عنوان پست </h5>
                                                   {{ form.title }}

                                                {% if form.title.errors %}
                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.title.errors }}
                                    </label>
                                    {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
          <div class="col-lg-12">
                            <div class="statbox widget box box-shadow">
                                <div class="widget-header">
                                    <div class="row">
                                        <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                            <h4>محتوای پست</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-content widget-content-area">
              {{ form.content }}

                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.content.errors }}
                                    </label>


                                </div>
                            </div>
                        </div>
      <div class="col-lg-12 mx-auto p-3 px-2 ">

                    <div class=" bg-white p-4 mt-3  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12  ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h5 class="mb-2">جعبه دانلود </h5>
                                                    <span class="mt-2">لطفا لینک های دانلود را در صورت نیاز وارد کنید </span>
                                                <div class="form-group mb-2 mt-3">
                                                     <h6 class="mb-3 text-secondary">عنوان لینک اول :</h6>
                                                    {{box_download.title1}}

                                                    <h6 class="mb-3 mt-3 text-secondary"> لینک دانلود اول :</h6>
                                                    {{box_download.link1}}
                                            {% if box_download.link1.errors %}
                                                 <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ box_download.link1.errors }}
                                                 </label>
                                             {% endif %}
                                                  </div>

                                                           <div class="form-group mb-2 mt-3">
                                                     <h6 class="mb-3 text-secondary">عنوان لینک دوم :</h6>
                                                    {{box_download.title2}}

                                                    <h6 class="mb-3 mt-3 text-secondary"> لینک دانلود دوم :</h6>
                                                    {{box_download.link2}}
                                            {% if box_download.link2.errors %}
                                                 <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ box_download.link2.errors }}
                                                 </label>
                                             {% endif %}
                                                  </div>
                                                           <div class="form-group mb-2 mt-3">
                                                     <h6 class="mb-3 text-secondary">عنوان لینک سوم :</h6>
                                                    {{box_download.title3}}

                                                    <h6 class="mb-3 mt-3 text-secondary"> لینک دانلود سوم :</h6>
                                                    {{box_download.link3}}
                                            {% if box_download.link3.errors %}
                                                 <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ box_download.link3.errors }}
                                                 </label>
                                             {% endif %}
                                                  </div>
       <div class="form-group mb-3 mt-3">
                                                     <h6 class="mb-3 text-secondary">عنوان لینک چهارم :</h6>
                                                    {{box_download.title4}}

                                                    <h6 class="mb-3 mt-3 text-secondary"> لینک دانلود چهارم :</h6>
                                                    {{box_download.link4}}
                                            {% if box_download.link4.errors %}
                                                 <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ box_download.link4.errors }}
                                                 </label>
                                             {% endif %}
                                                  </div>
                                                           <div class="form-group mb-3 mt-3">
                                                    <h6 class="mb-3 mt-3 text-secondary">پسورد فایل :</h6>
                                                    {{box_download.password}}
                                            {% if box_download.password.errors %}
                                                 <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ box_download.password.errors }}
                                                 </label>
                                             {% endif %}
                                                  </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

        </div>

        </div>


        <div class="col-lg-4">
            <div class="row ">
                <div class="col-lg-12 mx-auto mt-3 p-3 px-2 ">

                    <div class=" bg-white p-4  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12 ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h6 class="mb-2">کلمات کلیدی</h6>
                                                    <span class="mt-3">لطفا کلمات کلیدی را با ; از هم جدا کنید.</span>
                                                    <div class="form-group mt-3">
                                                                   {{ form.keyword }}

                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.keyword.errors }}
                                    </label>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
             <div  class="col-lg-12 mx-auto  p-3 px-2 ">
                            <div class="statbox widget box box-shadow" style="border:1px solid #bfc9d4;border-radius:0">
                                <div class="widget-header">
                                    <div class="row">
                                        <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                            <h4> توضیحات کوتاه</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-content widget-content-area">

 <div class="form-group ">
                                                        {{ form.short_description }}

                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.short_description.errors }}
                                    </label>

                                                    </div>

                                </div>
                            </div>
                        </div>
                        <div  class="col-lg-12 mx-auto  p-3 px-2 ">
                            <div class="statbox widget box box-shadow" style="border:1px solid #bfc9d4;border-radius:0">
                                <div class="widget-header">
                                    <div class="row">
                                        <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                            <h4>تاریخ و ساعت انتشار</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-content widget-content-area">

 <div class="form-group mb-0">

     {{ form.created_date }}

<!--                                                        {{ form.created_date }}-->

                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.created_date.errors }}
                                    </label>

                                                    </div>

                                </div>
                            </div>
                        </div>
                                <div class="col-lg-12 mx-auto p-3 px-2 ">

                    <div class=" bg-white p-4  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12 ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h6 class="mb-2">انتشار </h6>
                                                    <span class="mt-2">لطفا وضعیت انتشار را مشخص کنید. </span>
                                                <div class="form-group mb-4 mt-3">
                                         {{ form.is_active }}

                                        </div>
                                                    <div class="form-group">
                                                        <div class="n-chk">
    <label class="new-control new-checkbox new-checkbox-text checkbox-primary">
      {{ form.is_pin }}
      <span class="new-control-indicator"></span><span class="new-chk-content">پست پین شود</span>
    </label>
</div>
                                                    </div>
                                                    <button type="submit " class="mt-2 mb-2 btn btn-secondary float-right">ارسال </button>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12 mx-auto mt-0 p-3 px-2 ">

                    <div class=" bg-white p-4  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12 ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h6 class="mb-2">تصویر شاخص</h6>
                                                    <span class="mt-3">لطفا یک تصویر برای پست انتخاب کنید</span>
                                                    <div class="row">
                                                    <img  class="mx-auto my-3" width="70%" height="70%" alt="" id="myimg">

                                                    </div>

                                                  <div class="form-group mb-4 mt-3">
                                            <label for="exampleFormControlFile1">ورودیی پرونده نمونه</label>
                                            {{ form.image }}
                                           <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.image.errors }}
                                    </label>
                                        </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 mx-auto  p-3 px-2 ">

                    <div class=" bg-white p-4  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12 ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h6 class="mb-2">دسته بندی</h6>
                                                    <span class="mt-3">لطفا یک یا چند دسته را انتخاب کنید.</span>
                                           <div class="form-group mt-3">


{% for choice_id, choice_label in form.categories.field.choices  %}
    <div class="n-chk">
     <label class="new-control new-checkbox new-checkbox-text checkbox-primary">
      <input name="categories" type="checkbox" class="new-control-input" value="{{ choice_id }}">
      <span class="new-control-indicator"></span><span class="new-chk-content">{{ choice_label }}</span>
    </label>
</div>
   {% endfor %}



                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12 mx-auto p-3 px-2 ">

                    <div class=" bg-white p-4  " style="border:1px solid #bfc9d4">
                        <div class="widget-header">
                            <div class="row">
                                <div id="flFormsGrid" class="col-lg-12 ">
                                    <div class="   box-shadow">
                                        <div class="widget-header">
                                            <div class="row">
                                                <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                                                    <h6 class="mb-2"> برچسب ها</h6>
                                                    <span class="mt-3">لطفا تگ ها  را با ; از هم جدا کنید.</span>
                                                    <div class="form-group mt-3">
                                                                                 {{ form.mytag }}

                                    <label for="" class="text-danger mt-3 mx-2 text-xl ">{{ form.mytag.errors }}
                                    </label>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

 </form>
    {% endblock %}

{% include 'layout/component/swalmeesage.html' with title="ایجاد پست" %}

{% block script %}
 <script>window.CKEDITOR_BASEPATH = "{% static '/ckeditor/ckeditor/' %}";</script>
<script src="{% static '/majidh1/jalalidatepicker/dist/jalalidatepicker.min.js' %}" type="text/javascript"></script>
    <script type="text/javascript" src="{% static 'ckeditor/ckeditor-init.js' %}"
            data-ckeditor-basepath="{% static 'ckeditor/ckeditor/' %}" id="ckeditor-init-script"></script>
    <script type="text/javascript" src="{% static 'ckeditor/ckeditor/ckeditor.js' %}"></script>
<!--    <script type="text/javascript" src="{% static 'admin_panel/plugins/flatpickr/flatpickr.js' %}"></script>-->
<!--    <script type="text/javascript" src="{% static 'admin_panel/plugins/flatpickr/custom-flatpickr.js' %}"></script>-->

<script>
    jalaliDatepicker.startWatch({ time: true });


<!--var f2 = flatpickr(document.getElementById('dateTimeFlatpickr'), {-->
<!--    enableTime: true,-->
<!--    dateFormat: "Y-m-d H:i",-->
<!--});-->
let file=document.getElementById('exampleFormControlFile1');
let img=document.getElementById('myimg');
file.addEventListener('change',(e)=>{
    let myfile=e.target.files[0];
    if(!myfile) return
    img.src=URL.createObjectURL(myfile)
})
var options = {


  placeholder: 'Compose an epic...',

  theme: 'snow'
};


</script>
{% endblock %}